<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="fragment/Plantilla :: head(~{::title})">
<meta charset="utf-8">
<title>Consultorio Te-Fisa</title>
</head>
<body>
	<div th:replace="fragment/Plantilla :: navbar"></div>

	<div class="container-fluid mt-3">
		<h3>Lista de Pacientes</h3>
		<hr />
   	    <a class="btn btn-success" th:href="@{/paciente/nuevo}" role="button"> Nuevo</a><br /><br />
   	    <div th:replace="fragment/Plantilla :: mensajes"></div>
		<div class="table-responsive">
			<table class="table table-bordered table-striped">
				<thead>
					<tr class="info">
						<th>ID Paciente</th>
						<th>Nombre</th>
						<th>DNI</th>
						<th>Edad</th>
						<th>Altura</th>
						<th>Peso</th>
						<th>Sexo</th>
						<th>Fecha de Nacimiento</th>
						<th>Fecha de Admision</th>
						<th>Direccion</th>
						<th>Presion Arterial</th>
						<th>Tratamiento</th>
						<th>Medico</th>
						<th>Sede</th>
						<th>Acciones</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="item : ${pacientes}">
						<td th:text="${item.idPaciente}"></td>
						<td th:text="${item.nombre}"></td>
						<td th:text="${item.dni}"></td>
						<td th:text="${item.edad}"></td>
						<td th:text="${item.altura}"></td>
						<td th:text="${item.peso}"></td>
						<td th:text="${item.sexo}"></td>
						<td th:text="${item.fechaNac}"></td>
						<td th:text="${item.fechaAdmision}"></td>
						<td th:text="${item.direccion}"></td>
						<td th:text="${item.presionArterial}"></td>
						<td th:text="${item.enfermedad.nombre}"></td>
						<td th:text="${item.medico.nombre}"></td>
						<td th:text="${item.sede.nombre}"></td>
						<td>
		                    <a th:href="@{/paciente/editar/{id} (id=${item.idPaciente}) }" class="btn btn-info btn-sm" role="button" title="Editar">Editar</a>
		                    <a th:href="@{/paciente/eliminar/{id} (id=${item.idPaciente}) }" onclick="return confirm('Â¿Estas seguro que desea eliminar?')" class="btn btn-danger btn-sm" role="button" title="Eliminar">Eliminar</a>
		                  </td>
					</tr>
					<tr th:if="${pacientes == null or pacientes.empty}">
						<td colspan="15">No hay datos registrados</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
</body>
</html>